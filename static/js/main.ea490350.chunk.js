(this["webpackJsonpbook-library-react"]=this["webpackJsonpbook-library-react"]||[]).push([[0],{11:function(e,t,a){e.exports=a(16)},16:function(e,t,a){"use strict";a.r(t);var o=a(0),s=a.n(o),r=a(9),n=a.n(r),i=a(7),d=a(2),l=a(3),c=a(5),m=a(4),h=a(1),u=a(6),b=function(e){var t=e.showForm;return s.a.createElement("header",{className:"header"},s.a.createElement("h1",null,"Book Library"),s.a.createElement("button",{className:"new-book",onClick:function(){return t()}},"new book"))},p=function(e){var t=e.book;return s.a.createElement("div",{className:"book-info"},s.a.createElement("div",{className:"text-info"},s.a.createElement("div",{className:"row card-title"},s.a.createElement("span",{className:"card-label"},"Title: "),s.a.createElement("span",{className:"title"},t.title)),s.a.createElement("div",{className:"row card-author"},s.a.createElement("span",{className:"card-label"},"Author: "),s.a.createElement("span",{className:"author"},t.author)),s.a.createElement("div",{className:"row card-pages"},s.a.createElement("span",{className:"card-label"},"Pages: "),s.a.createElement("span",{className:"pages"},t.pages)),s.a.createElement("div",{className:"row card-read-status"},s.a.createElement("span",{className:"card-label"},"Read? "),s.a.createElement("span",{className:"hasRead"},t.readStatus?"Yes":"No"))),s.a.createElement("img",{className:"book-cover",src:t.img,alt:"book cover"}))},k=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).deleteBook=e.deleteBook.bind(Object(h.a)(e)),e.findBook=e.findBook.bind(Object(h.a)(e)),e.showEditForm=e.showEditForm.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"deleteBook",value:function(){this.props.deleteBookFromState(this.props.book.id)}},{key:"findBook",value:function(){this.props.getBook(this.props.book.id)}},{key:"showEditForm",value:function(){this.props.showEditForm(this.props.book.id)}},{key:"render",value:function(){return s.a.createElement("div",{className:"book-buttons"},s.a.createElement("button",{onClick:this.showEditForm,className:"edit-button"},"Edit"),s.a.createElement("button",{onClick:this.deleteBook,className:"delete-button"},"Delete"))}}]),t}(o.Component),g=function(e){var t=e.formStatus,a=e.deleteBookFromState,o=e.book,r=e.showEditForm;return s.a.createElement("div",{className:t?"book disabled":"book"},s.a.createElement(p,{book:o}),s.a.createElement(k,{deleteBookFromState:a,book:o,showEditForm:r}))},E=function(e){var t=e.books,a=e.formStatus,o=e.deleteBookFromState,r=e.showEditForm,n=[];return t.forEach((function(e){n.push(s.a.createElement(g,{book:e,key:e.id,formStatus:a,deleteBookFromState:o,showEditForm:r}))})),s.a.createElement("div",{className:"container"},n)},S=a(10),f=function(e){return s.a.createElement("div",{className:"form-container"},s.a.createElement("form",{className:"book-form",name:"bookForm"},s.a.createElement("h2",{className:"form-title"},"Book Information"),s.a.createElement("label",{htmlFor:"title"},"Title"),s.a.createElement("input",{placeholder:"Title",type:"text",name:"title",id:"title",maxLength:"100",required:!0,value:e.data.title,onChange:e.handleChange}),s.a.createElement("label",{htmlFor:"author"},"Author"),s.a.createElement("input",{placeholder:"Author",type:"text",name:"author",id:"author",maxLength:"100",required:!0,value:e.data.author,onChange:e.handleChange}),s.a.createElement("label",{htmlFor:"pages"},"Pages"),s.a.createElement("input",{placeholder:"Pages",type:"number",name:"pages",id:"pages",min:"1",required:!0,value:e.data.pages,onChange:e.handleChange}),s.a.createElement("div",{className:"read-status"},s.a.createElement("div",{className:"radio-option"},s.a.createElement("label",{htmlFor:"hasRead"},"Have read"),s.a.createElement("input",{type:"radio",name:"readStatus",value:"true",id:"hasRead",onChange:e.handleChange,checked:"true"===e.data.readStatus||!0===e.data.readStatus})),s.a.createElement("div",{className:"radio-option"},s.a.createElement("label",{htmlFor:"notRead"},"Have not read"),s.a.createElement("input",{type:"radio",name:"readStatus",value:"false",id:"notRead",onChange:e.handleChange,checked:"false"===e.data.readStatus||!1===e.data.readStatus}))),s.a.createElement("div",{className:"form-buttons"},e.book&&s.a.createElement("button",{className:"button edit-book",onClick:e.handleEdit,disabled:!e.isEnabled},"Save"),!e.book&&s.a.createElement("button",{className:"button submit-book",onClick:e.handleSubmit,disabled:!e.isEnabled},"Add Book"),s.a.createElement("button",{className:"button cancel",onClick:e.handleCancel},"Cancel"))))},F=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCancel=function(e){e.preventDefault(),a.props.hideForm()},a.handleEdit=function(e){e.preventDefault(),a.sendToParent(),a.props.hideForm()},a.sendToParent=function(){a.props.sendData(a.state)};var o=a.props.book;return a.state={title:o?o.title:"",author:o?o.author:"",pages:o?o.pages:"",readStatus:o?o.readStatus:"",img:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1442151714l/18803640._SY475_.jpg"},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.sendToParent=a.sendToParent.bind(Object(h.a)(a)),a.handleEdit=a.handleEdit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(S.a)({},a,o))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.sendToParent(),this.props.hideForm(),this.setState({title:"",author:"",pages:"",readStatus:"",img:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1442151714l/18803640._SY475_.jpg"})}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.author,o=e.pages,r=e.readStatus,n=t.length>0&&a.length>0&&parseInt(o)>0&&""!==r;return s.a.createElement(f,{isEnabled:n,data:this.state,book:this.props.book,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleCancel:this.handleCancel,handleEdit:this.handleEdit})}}]),t}(o.Component),v=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).showForm=function(){a.setState({showForm:!0})},a.getBook=function(e){return a.state.books.find((function(t){return t.id===e}))||!1},a.hideForm=function(){a.setState({showForm:!1,editBook:!1})},a.showEditForm=function(e){a.setState({showForm:!0,currentBook:a.getBook(e),editBook:!0})},a.createBook=function(e){a.setState((function(t){return{books:[].concat(Object(i.a)(t.books),[{id:t.id+1,title:e.title,author:e.author,pages:parseInt(e.pages),readStatus:"true"===e.readStatus,img:e.img}]),id:t.id+1}}),(function(){localStorage.setItem("state",JSON.stringify(a.state))}))},a.updateBook=function(e){a.setState((function(t){var a=Object(i.a)(t.books),o=a.find((function(e){return e.id===t.currentBook.id})),s=a.indexOf(o);return a[s]={id:o.id,title:e.title,author:e.author,pages:parseInt(e.pages),readStatus:"true"===e.readStatus,img:e.img},{books:a}}),(function(){localStorage.setItem("state",JSON.stringify(a.state))}))},a.deleteBookFromState=function(e){a.setState((function(t){return{books:t.books.filter((function(t){return t.id!==e}))}}),(function(){localStorage.setItem("state",JSON.stringify(a.state))}))},a.state={books:a.props.books,showForm:!1,editBook:!1,id:a.props.books[a.props.books.length-1].id,currentBook:null},a.showForm=a.showForm.bind(Object(h.a)(a)),a.getBook=a.getBook.bind(Object(h.a)(a)),a.hideForm=a.hideForm.bind(Object(h.a)(a)),a.showEditForm=a.showEditForm.bind(Object(h.a)(a)),a.createBook=a.createBook.bind(Object(h.a)(a)),a.updateBook=a.updateBook.bind(Object(h.a)(a)),a.deleteBookFromState=a.deleteBookFromState.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("state"));e&&this.setState({books:e.books,showForm:e.showForm,editBook:e.editBook,id:e.id,currentBook:e.currentBook})}},{key:"render",value:function(){return s.a.createElement("div",{className:"wrapper"},s.a.createElement(b,{showForm:this.showForm}),s.a.createElement(E,{books:this.state.books,formStatus:this.state.showForm,deleteBookFromState:this.deleteBookFromState,showEditForm:this.showEditForm}),this.state.showForm&&s.a.createElement(F,{sendData:this.createBook,hideForm:this.hideForm}),this.state.editBook&&s.a.createElement(F,{book:this.state.currentBook,sendData:this.updateBook,hideForm:this.hideForm}))}}]),t}(o.Component),B=[{id:1,title:"H is for Hawk",author:"Helen Macdonald",pages:312,readStatus:!0,img:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1442151714l/18803640._SY475_.jpg"},{id:2,title:"Imagine Me Gone",author:"Adam Haslett",pages:289,readStatus:!0,img:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1530824813l/40727599._SY475_.jpg"},{id:3,title:"Less",author:"Andrew Sean Greer",pages:248,readStatus:!0,img:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1524491811l/39927096._SY475_.jpg"},{id:4,title:"The Testaments",author:"Margaret Atwood",pages:304,readStatus:!1,img:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1549292344l/42975172.jpg"},{id:5,title:"The Institute",author:"Stephen King",pages:277,readStatus:!1,img:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1549241208l/43798285.jpg"},{id:6,title:"Recursion",author:"Blake Crouch",pages:410,readStatus:!1,img:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1543687940l/42046112.jpg"}];n.a.render(s.a.createElement(v,{books:B}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.ea490350.chunk.js.map